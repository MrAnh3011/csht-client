<form [formGroup]="formAdd" (ngSubmit)="handleOk()">
    <nz-modal [(nzVisible)]="isVisibleAdd" nzWidth="900px" nzTitle="Add User" nzClosable="false" [nzTitle]="title"
        nzMaskClosable="false">
        <ng-template #title>
            {{'title_modal_add_user' | translate }}
            <div class="pull-right icon-close">
                <em (click)="handleCancel()" mat-icon type="close"></em>
            </div>
        </ng-template>
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'email' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <input matInput formControlName="email" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
                    </div>
                    <div class="message-required" *ngIf="submitted && f.email.errors">
                        <div *ngIf="f.email.errors.required">
                            {{'email' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                        <div *ngIf="f.email.errors.minlength">
                            {{'email' | translate }} {{'ms_validate_more_characters_long' | translate }}
                        </div>
                        <div *ngIf="f.email.errors.maxlength">
                            {{'email' | translate }} {{'ms_validate_less_characters_long' | translate }}
                        </div>
                        <div *ngIf="f.email.errors.email">{{'email' | translate }} {{'ms_validate_email_invalid_address'
                            | translate }}</div>
                        <div *ngIf="f.email.errors.cannotContainSpace">{{'email' | translate }} {{'ms_validate_space' |
                            translate }}</div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'name' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <input matInput formControlName="name"
                            [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
                    </div>
                    <div class="message-required" *ngIf="submitted && f.name.errors">
                        <div *ngIf="f.name.errors.required">
                            {{'name' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                        <div *ngIf="f.name.errors.minlength">
                            {{'name' | translate }} {{'ms_validate_more_characters_long' | translate }}
                        </div>
                        <div *ngIf="f.name.errors.maxlength">
                            {{'name' | translate }} {{'ms_validate_less_characters_long' | translate }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'username' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <input matInput formControlName="userName"
                            [ngClass]="{ 'is-invalid': submitted && f.userName.errors }" />
                    </div>
                    <div class="message-required" *ngIf="submitted && f.userName.errors">
                        <div *ngIf="f.userName.errors.required">
                            {{'username' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                        <div *ngIf="f.userName.errors.minlength">
                            {{'username' | translate }} {{'ms_validate_more_characters_long' | translate }}
                        </div>
                        <div *ngIf="f.userName.errors.maxlength">
                            {{'username' | translate }} {{'ms_validate_less_characters_long' | translate }}
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'mobile' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <input matInput formControlName="phone" maxlength="10"
                            [ngClass]="{ 'is-invalid': submitted && f.phone.errors }" (keypress)=_keyPress($event) />
                    </div>
                    <div class="message-required" *ngIf="submitted && f.phone.errors">
                        <div *ngIf="f.phone.errors.required">
                            {{'mobile' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                        <div *ngIf="f.phone.errors.pattern">
                            {{'mobile' | translate }} {{'ms_validate_phone_invalid_address' | translate }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'status' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <mat-select formControlName="status"
                            [ngClass]="{ 'is-invalid': submitted && f.status.errors }">
                            <mat-option [value]="0">Inactive</mat-option>
                            <mat-option [value]="1">Active</mat-option>
                            <mat-option [value]="2">Lock</mat-option>
                        </mat-select>
                    </div>
                    <div class="message-required" *ngIf="submitted && f.status.errors">
                        <div *ngIf="f.status.errors.required">
                            {{'status' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'password' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <input matInput formControlName="password"
                            [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
                    </div>
                    <div class="message-required" *ngIf="submitted && f.password.errors">
                        <div *ngIf="f.password.errors.required">
                            {{'password' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                        <div *ngIf="f.password.errors.minlength">
                            {{'password' | translate }} {{'ms_validate_more_characters_long' | translate }}
                        </div>
                        <div *ngIf="f.password.errors.maxlength">
                            {{'password' | translate }} {{'ms_validate_less_characters_long' | translate }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'application' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <mat-select formControlName="applicationId" (ngModelChange)="getApplicationId()">
                            <mat-option [value]=2>Bss</mat-option>
                            <mat-option [value]=4>Oss</mat-option>
                        </mat-select>
                    </div>
                    <div class="message-required" *ngIf="submitted && f.applicationId.errors">
                        <div *ngIf="f.applicationId.errors.required">
                            {{'application' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'group' | translate }}</label>
                        <mat-select formControlName="groupIds">
                            <mat-option *ngFor="let option of groupByApplication" [value]="option.groupId">{{option.groupName}}</mat-option>
                        </mat-select>
                    </div>
                    <div class="message-required" *ngIf="submitted && f.groupIds.errors">
                        <div *ngIf="f.groupIds.errors.required">
                            {{'group' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="col-md-6">
                    <div class="input-wrap">
                        <label class="title-detail">{{'login_type' | translate }}<em
                                class="fa fa-asterisk required"></em></label>
                        <mat-select nzShowSearch nzPlaceHolder="" nzSize="default" formControlName="requireOtp"
                            [ngClass]="{ 'is-invalid': submitted && f.status.errors }">
                            <mat-option [value]=0>KhÃ´ng</mat-option>
                            <mat-option [value]=1>OTP</mat-option>
                            <mat-option [value]=2>TOTP</mat-option>
                        </mat-select>
                    </div>
                    <div class="message-required" *ngIf="submitted && f.status.errors">
                        <div *ngIf="f.status.errors.required">
                            {{'status' | translate }} {{'ms_validate_required' | translate }}
                        </div>
                    </div>
                </div>
            </div>


            <div *nzModalFooter>
                <button mat-flat-button (click)="handleCancel()">{{'cancel' | translate }}</button>
                <button mat-flat-button color="primary" (click)="handleOk()"
                    class="button-submit button-submit-user">{{'save' | translate }}</button>
            </div>
        </div>
        <!-- <app-roles-user-modal (cancel)="cancel($event)" [isVisibleRole]="isVisibleRole" [nodes]="nodes" [defaultCheckedKeys]="defaultCheckedKeys" [titleModelRole]="titleModelRole" [defaultSelectedKeys]="defaultSelectedKeys"></app-roles-user-modal> -->
    </nz-modal>
</form>